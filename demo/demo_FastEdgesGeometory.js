(()=>{"use strict";var e,t={379:(e,t,r)=>{var n=r(429),s=r(71);class o extends s.Kj0{constructor(e){super(),this.geometryMerger=new y(this,e)}}class a extends s.ejS{constructor(e){super(),e.edgeDetail=e.edgeDetail??7,this.geometryMerger=new p(this,e)}}class i extends s.ZAu{constructor(e){super(),this.getGeometryID=e=>{const t=e.match(/.*_.*_(\d*)/);if(null==t)throw new Error(`Invalid name: ${e}`);return Number(t[1])},null!=e.bodyOption&&(this.body=new o(e.bodyOption),this.add(this.body)),null!=e.edgeOption&&(this.edge=new a(e.edgeOption),this.add(this.edge))}async merge(){await Promise.all([this.body?.geometryMerger.merge(),this.edge?.geometryMerger.merge()])}}i.MODEL_INDEX="MODEL_INDEX";const d=new s.Pa4,c=new s.Pa4,u=new s.Pa4,l=new s.CJI;class g extends s.u9r{constructor(e=null,t=1,r){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},null!==e){const n=10**(r?.precisionPoints??6),o=Math.cos(s.M8C.DEG2RAD*t),a=e.getIndex(),i=e.getAttribute("position"),h=a?a.count:i.count,m=g._indexArray,y=g._vertKeys,p=g._hashArray,f=new Map,b=[];for(let e=0;e<h;e+=3){a?(m[0]=a.getX(e),m[1]=a.getX(e+1),m[2]=a.getX(e+2)):(m[0]=e,m[1]=e+1,m[2]=e+2);const{a:t,b:s,c:d}=l;if(t.fromBufferAttribute(i,m[0]),s.fromBufferAttribute(i,m[1]),d.fromBufferAttribute(i,m[2]),l.getNormal(u),p[0]=g.hybridtaus(Math.round(t.x*n),Math.round(t.y*n),Math.round(t.z*n),r?.seed),p[1]=g.hybridtaus(Math.round(s.x*n),Math.round(s.y*n),Math.round(s.z*n),r?.seed),p[0]!==p[1]&&(p[2]=g.hybridtaus(Math.round(d.x*n),Math.round(d.y*n),Math.round(d.z*n),r?.seed),p[1]!==p[2]&&p[2]!==p[0]))for(let e=0;e<3;e++){const t=(e+1)%3,n=p[e],s=p[t],a=l[y[e]],i=l[y[t]],d=g.hybridtaus(n,s,0,r?.seed),c=g.hybridtaus(s,n,0,r?.seed),h=f.get(c);void 0!==h?(u.dot(h.normal)<=o&&(b.push(a.x,a.y,a.z),b.push(i.x,i.y,i.z)),f.delete(c)):f.set(d,{index0:m[e],index1:m[t],normal:{x:u.x,y:u.y,z:u.z}})}}f.forEach((e=>{const{index0:t,index1:r}=e;d.fromBufferAttribute(i,t),c.fromBufferAttribute(i,r),b.push(d.x,d.y,d.z),b.push(c.x,c.y,c.z)})),this.setAttribute("position",new s.a$l(b,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static taus(e,t,r,n,s){return((e&s)<<t^(e<<r^e)>>>n)>>>0}static hybridtaus(e,t,r,n=255){const s=e=>e>>>0;return e=g.taus(e,13,19,12,4294967294),t=g.taus(t,2,25,4,4294967288),r=g.taus(r,3,11,17,4294967280),n=s(1664525*n+1013904223),s(e^t^r^n)}}g._indexArray=[0,0,0],g._vertKeys=["a","b","c"],g._hashArray=new Array(3);var h=r(993);class m{constructor(e,t){this.geometries=[],this.object3D=e,this.option=t}async add(e,t,r){const n=await this.convert(e),o=t.getUniformIndex(r),a=function(e){return e.getAttribute("position").count}(n),d=new Uint16Array(a);for(let e=0;e<a;e++)d[e]=o;const c=new s.TlE(d,1);n.setAttribute(i.MODEL_INDEX,c),this.geometries.push(n)}async convert(e){return e}async merge(){0!==this.geometries.length?this.object3D.geometry=h.n4(this.geometries):this.object3D.parent?.remove(this.object3D)}}class y extends m{async convert(e){return e.deleteAttribute("uv"),e}}class p extends m{async convert(e){return this.option.useFastEdgesGeometry?new g(e,this.option.edgeDetail):new s.TOt(e,this.option.edgeDetail)}}r(647),r(984),r(146);var f=r(75),b=r(12),w=r(304);const x=(e,t=1)=>{const r=performance.now(),n=new s.TOt(e,t),o=performance.now()-r;console.log(`EdgesGeometry: ${o}ms`);const a=performance.now(),i=new g(e,t,{seed:0}),d=performance.now()-a;return console.log(`FastEdgesGeometry: ${d}ms`),o/d<1?console.warn(`ðŸš« FastEdgesGeometry is slower than EdgesGeometry. FastEdgesGeometry is ${o/d} times slower than EdgesGeometry.`):console.log(`ðŸ‘ FastEdgesGeometry is ${o/d} times faster than EdgesGeometry.`),{edges:n,fastEdges:i}};window.onload=async()=>{const{scene:e,camera:t}=(e=>{const t=new s.xsS,r=new s.cPb(45,1280/720,1,6e4);r.position.set(0,0,15);const n=new f.CP7({antialias:!0});n.setSize(1280,720),n.setClearColor(new s.Ilk(0)),document.body.appendChild(n.domElement);const o=document.createElement("div");document.body.appendChild(o),new b.z(r,n.domElement);const a=new w.Z,i=()=>{a.begin(),n.render(t,r),a.end(),o.innerText=JSON.stringify(n.info.render),requestAnimationFrame(i)};return i(),{scene:t,camera:r}})(),r=new s.FE5(10,3,200,32),{edges:o,fastEdges:a}=x(r),i=new s.ejS(o,new s.nls({color:16711680,blending:s.WMw})),d=new s.ejS(a,new s.nls({color:65535,blending:s.WMw}));i.position.x=-20,d.position.x=20,t.position.z=60,e.add(i,d);const c=new n.ZP,u={distance:20,radialSegments:32,tubularSegments:200,thresholdAngle:1};c.add(u,"distance",0,20,.05).onChange((e=>{i.position.x=-e,d.position.x=e})),c.add(u,"thresholdAngle",0,10,.1).onChange((()=>{l()})),c.add(u,"tubularSegments",4,400,1).onChange((()=>{l()})),c.add(u,"radialSegments",4,128,1).onChange((()=>{l()}));const l=()=>{const e=new s.FE5(10,3,u.tubularSegments,u.radialSegments),{edges:t,fastEdges:r}=x(e,u.thresholdAngle);i.geometry.dispose(),d.geometry.dispose(),i.geometry=t,d.geometry=r}}}},r={};function n(e){var s=r[e];if(void 0!==s)return s.exports;var o=r[e]={exports:{}};return t[e](o,o.exports,n),o.exports}n.m=t,e=[],n.O=(t,r,s,o)=>{if(!r){var a=1/0;for(u=0;u<e.length;u++){for(var[r,s,o]=e[u],i=!0,d=0;d<r.length;d++)(!1&o||a>=o)&&Object.keys(n.O).every((e=>n.O[e](r[d])))?r.splice(d--,1):(i=!1,o<a&&(a=o));if(i){e.splice(u--,1);var c=s();void 0!==c&&(t=c)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[r,s,o]},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.j=530,(()=>{var e={530:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var s,o,[a,i,d]=r,c=0;if(a.some((t=>0!==e[t]))){for(s in i)n.o(i,s)&&(n.m[s]=i[s]);if(d)var u=d(n)}for(t&&t(r);c<a.length;c++)o=a[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(u)},r=self.webpackChunk_masatomakino_colorable_merged_model=self.webpackChunk_masatomakino_colorable_merged_model||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var s=n.O(void 0,[736],(()=>n(379)));s=n.O(s)})();