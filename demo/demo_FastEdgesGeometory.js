(()=>{"use strict";var e,t={43(e,t,n){var r=n(638),o=n(710);class s extends o.eaF{constructor(e){super(),this.geometryMerger=new w(this,e)}}class a extends o.DXC{constructor(e){super(),e.edgeDetail=e.edgeDetail??7,this.geometryMerger=new f(this,e)}}class i extends o.YJl{constructor(e){super(),this.getGeometryID=e=>{const t=e.match(/.*_.*_(\d*)/);if(null==t)throw new Error(`Invalid name: ${e}`);return Number(t[1])},null!=e.bodyOption&&(this.body=new s(e.bodyOption),this.add(this.body)),null!=e.edgeOption&&(this.edge=new a(e.edgeOption),this.add(this.edge))}async merge(){await Promise.all([this.body?.geometryMerger.merge(),this.edge?.geometryMerger.merge()])}}i.MODEL_INDEX="MODEL_INDEX";const c=new o.Pq0,d=new o.Pq0,l=new o.Pq0,u=new o.Pq0,m=new o.Pq0;class g extends o.LoY{constructor(e=null,t=1,n){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},null!==e){const r=10**(n?.precisionPoints??6),s=Math.cos(o.cj9.DEG2RAD*t),a=e.getIndex(),i=e.getAttribute("position"),h=a?a.count:i.count,y=g._indexArray,p=g._hashArray,w=1664525*(n?.seed??255)+1013904223>>>0,f=h,b=new Uint32Array(f),x=new Uint32Array(f),A=new Float32Array(f),v=new Float32Array(f),E=new Float32Array(f),D=new Map;let M=0;const O=new Float32Array(2*h*3);let _=0;const P=(e,t,n)=>((e=((4294967294&e)<<13^(e<<19^e)>>>12)>>>0)^(t=((4294967288&t)<<2^(t<<25^t)>>>4)>>>0)^(n=((4294967280&n)<<3^(n<<11^n)>>>17)>>>0)^w)>>>0;for(let e=0;e<h;e+=3){a?(y[0]=a.getX(e),y[1]=a.getX(e+1),y[2]=a.getX(e+2)):(y[0]=e,y[1]=e+1,y[2]=e+2),l.fromBufferAttribute(i,y[0]),u.fromBufferAttribute(i,y[1]),m.fromBufferAttribute(i,y[2]);const t=u.x-l.x,n=u.y-l.y,o=u.z-l.z,c=m.x-l.x,d=m.y-l.y,g=m.z-l.z;let h=n*g-o*d,w=o*c-t*g,f=t*d-n*c;const F=Math.sqrt(h*h+w*w+f*f);if(F>0){const e=1/F;h*=e,w*=e,f*=e}if(p[0]=P(Math.round(l.x*r),Math.round(l.y*r),Math.round(l.z*r)),p[1]=P(Math.round(u.x*r),Math.round(u.y*r),Math.round(u.z*r)),p[0]===p[1])continue;if(p[2]=P(Math.round(m.x*r),Math.round(m.y*r),Math.round(m.z*r)),p[1]===p[2]||p[2]===p[0])continue;const z=[l,u,m];for(let e=0;e<3;e++){const t=(e+1)%3,n=p[e],r=p[t],o=z[e],a=z[t],i=P(n,r,0),c=P(r,n,0),d=D.get(c);if(void 0!==d)h*A[d]+w*v[d]+f*E[d]<=s&&(O[_++]=o.x,O[_++]=o.y,O[_++]=o.z,O[_++]=a.x,O[_++]=a.y,O[_++]=a.z),D.delete(c);else{const n=M++;D.set(i,n),b[n]=y[e],x[n]=y[t],A[n]=h,v[n]=w,E[n]=f}}}D.forEach(e=>{const t=b[e],n=x[e];c.fromBufferAttribute(i,t),d.fromBufferAttribute(i,n),O[_++]=c.x,O[_++]=c.y,O[_++]=c.z,O[_++]=d.x,O[_++]=d.y,O[_++]=d.z});const F=O.slice(0,_);this.setAttribute("position",new o.qtW(F,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static taus(e,t,n,r,o){return((e&o)<<t^(e<<n^e)>>>r)>>>0}static hybridtaus(e,t,n,r=255){const o=e=>e>>>0;return e=g.taus(e,13,19,12,4294967294),t=g.taus(t,2,25,4,4294967288),n=g.taus(n,3,11,17,4294967280),r=o(1664525*r+1013904223),o(e^t^n^r)}}g._indexArray=[0,0,0],g._hashArray=new Array(3);var h=n(753);o.BKk;var y=n(426);class p{constructor(e,t){this.geometries=[],this.object3D=e,this.option=t}async add(e,t,n){const r=await this.convert(e),s=t.getUniformIndex(n),a=function(e){return e.getAttribute("position").count}(r),c=new Uint16Array(a);for(let e=0;e<a;e++)c[e]=s;const d=new o.THS(c,1);r.setAttribute(i.MODEL_INDEX,d),this.geometries.push(r)}async convert(e){return e}async merge(){0!==this.geometries.length?this.object3D.geometry=y.pP(this.geometries):this.object3D.parent?.remove(this.object3D)}}class w extends p{async convert(e){return e.deleteAttribute("uv"),e}}class f extends p{async convert(e){return this.option.useFastEdgesGeometry?new g(e,this.option.edgeDetail):new o.TDQ(e,this.option.edgeDetail)}}n(329),n(452),n(486).b;var b=n(580),x=n(533);const A=(e,t,n=100)=>{const r=[],s=[];for(let n=0;n<10;n++)new o.TDQ(e,t),new g(e,t);for(let a=0;a<n;a++){const n=performance.now();new o.TDQ(e,t),r.push(performance.now()-n);const a=performance.now();new g(e,t),s.push(performance.now()-a)}const a=e=>{const t=[...e].sort((e,t)=>e-t);return t[Math.floor(t.length/2)]},i=e.getIndex(),c=e.getAttribute("position"),d=i?i.count:c.count;return{geometry:e.type,triangles:Math.floor(d/3),edgesTime:a(r),fastEdgesTime:a(s),speedup:a(r)/a(s),iterations:n}},v=()=>{console.log("Running full benchmark...");const e=[A(new o.iNn(1,1,1),1),A(new o.Gu$(1,32,32),1),A(new o.UPV(10,3,200,32),1),A(new o.UPV(10,3,400,64),1)];return console.table(e),e},E=(e,t=1)=>{const n=performance.now(),r=new o.TDQ(e,t),s=performance.now()-n;console.log(`EdgesGeometry: ${s}ms`);const a=performance.now(),i=new g(e,t,{seed:0}),c=performance.now()-a;return console.log(`FastEdgesGeometry: ${c}ms`),s/c<1?console.warn(`ðŸš« FastEdgesGeometry is slower than EdgesGeometry. FastEdgesGeometry is ${s/c} times slower than EdgesGeometry.`):console.log(`ðŸ‘ FastEdgesGeometry is ${s/c} times faster than EdgesGeometry.`),{edges:r,fastEdges:i}};window.onload=async()=>{const{scene:e,camera:t}=(()=>{const e=new o.Z58,t=new o.ubm(45,1280/720,1,6e4);t.position.set(0,0,15);const n=new h.JeP({antialias:!0});n.setSize(1280,720),n.setClearColor(new o.Q1f(0)),document.body.appendChild(n.domElement);const r=document.createElement("div");document.body.appendChild(r),new b.N(t,n.domElement);const s=new x.A,a=()=>{s.begin(),n.render(e,t),s.end(),r.innerText=JSON.stringify(n.info.render),requestAnimationFrame(a)};return a(),{scene:e,camera:t}})(),n=new o.UPV(10,3,200,32),{edges:s,fastEdges:a}=E(n),i=new o.DXC(s,new o.mrM({color:16711680,blending:o.EZo})),c=new o.DXC(a,new o.mrM({color:65535,blending:o.EZo}));i.position.x=-20,c.position.x=20,t.position.z=60,e.add(i,c);const d=new r.Ay,l={distance:20,radialSegments:32,tubularSegments:200,thresholdAngle:1};d.add(l,"distance",0,20,.05).onChange(e=>{i.position.x=-e,c.position.x=e}),d.add(l,"thresholdAngle",0,10,.1).onChange(()=>{u()}),d.add(l,"tubularSegments",4,400,1).onChange(()=>{u()}),d.add(l,"radialSegments",4,128,1).onChange(()=>{u()}),d.add({runFullBenchmark:v},"runFullBenchmark").name("Run Full Benchmark");const u=()=>{const e=new o.UPV(10,3,l.tubularSegments,l.radialSegments),{edges:t,fastEdges:n}=E(e,l.thresholdAngle);i.geometry.dispose(),c.geometry.dispose(),i.geometry=t,c.geometry=n}}}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var s=n[e]={exports:{}};return t[e](s,s.exports,r),s.exports}r.m=t,e=[],r.O=(t,n,o,s)=>{if(!n){var a=1/0;for(l=0;l<e.length;l++){for(var[n,o,s]=e[l],i=!0,c=0;c<n.length;c++)(!1&s||a>=s)&&Object.keys(r.O).every(e=>r.O[e](n[c]))?n.splice(c--,1):(i=!1,s<a&&(a=s));if(i){e.splice(l--,1);var d=o();void 0!==d&&(t=d)}}return t}s=s||0;for(var l=e.length;l>0&&e[l-1][2]>s;l--)e[l]=e[l-1];e[l]=[n,o,s]},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.j=656,(()=>{var e={656:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var o,s,[a,i,c]=n,d=0;if(a.some(t=>0!==e[t])){for(o in i)r.o(i,o)&&(r.m[o]=i[o]);if(c)var l=c(r)}for(t&&t(n);d<a.length;d++)s=a[d],r.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return r.O(l)},n=self.webpackChunk_masatomakino_colorable_merged_model=self.webpackChunk_masatomakino_colorable_merged_model||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var o=r.O(void 0,[121],()=>r(43));o=r.O(o)})();