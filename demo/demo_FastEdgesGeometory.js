(()=>{"use strict";var e,t={379:(e,t,n)=>{var r=n(71),o=n(75),s=n(12),a=n(304);class i extends r.ZAu{constructor(e){super(),this.getGeometryID=e=>{const t=e.match(/.*_.*_(\d*)/);if(null==t)throw new Error(`Invalid name: ${e}`);return Number(t[1])},null!=e.bodyOption&&(this.body=new d(e.bodyOption),this.add(this.body)),null!=e.edgeOption&&(this.edge=new c(e.edgeOption),this.add(this.edge))}async merge(){await Promise.all([this.body?.geometryMerger.merge(),this.edge?.geometryMerger.merge()])}}i.MODEL_INDEX="MODEL_INDEX";class d extends r.Kj0{constructor(e){super(),this.geometryMerger=new f(this,e)}}class c extends r.ejS{constructor(e){super(),e.edgeDetail=e.edgeDetail??7,this.geometryMerger=new b(this,e)}}n(647),n(984),n(146);const l=new r.Pa4,u=new r.Pa4,g=new r.Pa4,h=new r.CJI;class m extends r.u9r{constructor(e=null,t=1,n){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},null!==e){const o=4,s=Math.pow(10,o),a=Math.cos(r.M8C.DEG2RAD*t),i=e.getIndex(),d=e.getAttribute("position"),c=i?i.count:d.count,p=[0,0,0],y=["a","b","c"],f=new Array(3),b=new Map,w=[];for(let e=0;e<c;e+=3){i?(p[0]=i.getX(e),p[1]=i.getX(e+1),p[2]=i.getX(e+2)):(p[0]=e,p[1]=e+1,p[2]=e+2);const{a:t,b:r,c:o}=h;if(t.fromBufferAttribute(d,p[0]),r.fromBufferAttribute(d,p[1]),o.fromBufferAttribute(d,p[2]),h.getNormal(g),f[0]=m.hybridtaus(Math.round(t.x*s),Math.round(t.y*s),Math.round(t.z*s),n?.seed),f[1]=m.hybridtaus(Math.round(r.x*s),Math.round(r.y*s),Math.round(r.z*s),n?.seed),f[0]!==f[1]&&(f[2]=m.hybridtaus(Math.round(o.x*s),Math.round(o.y*s),Math.round(o.z*s),n?.seed),f[1]!==f[2]&&f[2]!==f[0]))for(let e=0;e<3;e++){const t=(e+1)%3,r=f[e],o=f[t],s=h[y[e]],i=h[y[t]],d=m.hybridtaus(r,o,0,n?.seed),c=m.hybridtaus(o,r,0,n?.seed),l=b.get(c);void 0!==l?(g.dot(l.normal)<=a&&(w.push(s.x,s.y,s.z),w.push(i.x,i.y,i.z)),b.delete(c)):b.set(d,{index0:p[e],index1:p[t],normal:g.clone()})}}b.forEach((e=>{const{index0:t,index1:n}=e;l.fromBufferAttribute(d,t),u.fromBufferAttribute(d,n),w.push(l.x,l.y,l.z),w.push(u.x,u.y,u.z)})),this.setAttribute("position",new r.a$l(w,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static taus(e,t,n,r,o){return((e&o)<<t^(e<<n^e)>>>r)>>>0}static hybridtaus(e,t,n,r=255){const o=e=>e>>>0;return e=m.taus(e,13,19,12,4294967294),t=m.taus(t,2,25,4,4294967288),n=m.taus(n,3,11,17,4294967280),r=o(1664525*r+1013904223),o(e^t^n^r)}}var p=n(993);class y{constructor(e,t){this.geometries=[],this.object3D=e,this.option=t}async add(e,t,n){const o=await this.convert(e),s=t.getUniformIndex(n),a=function(e){return e.getAttribute("position").count}(o),d=new Uint16Array(a);for(let e=0;e<a;e++)d[e]=s;const c=new r.TlE(d,1);o.setAttribute(i.MODEL_INDEX,c),this.geometries.push(o)}async convert(e){return e}async merge(){0!==this.geometries.length?this.object3D.geometry=p.n4(this.geometries):this.object3D.parent?.remove(this.object3D)}}class f extends y{async convert(e){return e.deleteAttribute("uv"),e}}class b extends y{async convert(e){return this.option.useFastEdgesGeometry?new m(e,this.option.edgeDetail):new r.TOt(e,this.option.edgeDetail)}}var w=n(429);const v=(e,t=1)=>{const n=performance.now(),o=new r.TOt(e,t),s=performance.now()-n;console.log(`EdgesGeometry: ${s}ms`);const a=performance.now(),i=new m(e,t,{seed:0}),d=performance.now()-a;return console.log(`FastEdgesGeometry: ${d}ms`),s/d<1?console.warn(`ðŸš« FastEdgesGeometry is slower than EdgesGeometry. FastEdgesGeometry is ${s/d} times slower than EdgesGeometry.`):console.log(`ðŸ‘ FastEdgesGeometry is ${s/d} times faster than EdgesGeometry.`),{edges:o,fastEdges:i}};window.onload=async()=>{const{scene:e,camera:t}=(e=>{const t=new r.xsS,n=new r.cPb(45,1280/720,1,6e4);n.position.set(0,0,15);const i=new o.CP7({antialias:!0});i.setSize(1280,720),i.setClearColor(new r.Ilk(0)),document.body.appendChild(i.domElement);const d=document.createElement("div");document.body.appendChild(d),new s.z(n,i.domElement);const c=new a.Z,l=()=>{c.begin(),i.render(t,n),c.end(),d.innerText=JSON.stringify(i.info.render),requestAnimationFrame(l)};return l(),{scene:t,camera:n}})(),n=new r.FE5(10,3,200,32),{edges:i,fastEdges:d}=v(n),c=new r.ejS(i,new r.nls({color:16711680,blending:r.WMw})),l=new r.ejS(d,new r.nls({color:65535,blending:r.WMw}));c.position.x=-20,l.position.x=20,t.position.z=60,e.add(c,l);const u=new w.ZP,g={distance:20,radialSegments:32,tubularSegments:200,thresholdAngle:1};u.add(g,"distance",0,20,.05).onChange((e=>{c.position.x=-e,l.position.x=e})),u.add(g,"thresholdAngle",0,10,.1).onChange((e=>{h()})),u.add(g,"tubularSegments",4,400,1).onChange((e=>{h()})),u.add(g,"radialSegments",4,128,1).onChange((e=>{h()}));const h=()=>{const e=new r.FE5(10,3,g.tubularSegments,g.radialSegments),{edges:t,fastEdges:n}=v(e,g.thresholdAngle);c.geometry.dispose(),l.geometry.dispose(),c.geometry=t,l.geometry=n}}}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var s=n[e]={exports:{}};return t[e](s,s.exports,r),s.exports}r.m=t,e=[],r.O=(t,n,o,s)=>{if(!n){var a=1/0;for(l=0;l<e.length;l++){for(var[n,o,s]=e[l],i=!0,d=0;d<n.length;d++)(!1&s||a>=s)&&Object.keys(r.O).every((e=>r.O[e](n[d])))?n.splice(d--,1):(i=!1,s<a&&(a=s));if(i){e.splice(l--,1);var c=o();void 0!==c&&(t=c)}}return t}s=s||0;for(var l=e.length;l>0&&e[l-1][2]>s;l--)e[l]=e[l-1];e[l]=[n,o,s]},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.j=530,(()=>{var e={530:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var o,s,[a,i,d]=n,c=0;if(a.some((t=>0!==e[t]))){for(o in i)r.o(i,o)&&(r.m[o]=i[o]);if(d)var l=d(r)}for(t&&t(n);c<a.length;c++)s=a[c],r.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return r.O(l)},n=self.webpackChunk_masatomakino_colorable_merged_model=self.webpackChunk_masatomakino_colorable_merged_model||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var o=r.O(void 0,[736],(()=>r(379)));o=r.O(o)})();