(()=>{"use strict";var e,t={379:(e,t,o)=>{var n=o(75),r=o(12),s=o(304);class a extends n.ZAu{constructor(e){super(),this.getGeometryID=e=>{const t=e.match(/.*_.*_(\d*)/);if(null==t)throw new Error(`Invalid name: ${e}`);return Number(t[1])},null!=e.bodyOption&&(this.body=new i(e.bodyOption),this.add(this.body)),null!=e.edgeOption&&(this.edge=new d(e.edgeOption),this.add(this.edge))}async merge(){await Promise.all([this.body?.geometryMerger.merge(),this.edge?.geometryMerger.merge()])}}a.MODEL_INDEX="MODEL_INDEX";class i extends n.Kj0{constructor(e){super(),this.geometryMerger=new y(this,e)}}class d extends n.ejS{constructor(e){super(),e.edgeDetail=e.edgeDetail??7,this.geometryMerger=new f(this,e)}}o(647),o(984),o(146);const c=new n.Pa4,l=new n.Pa4,u=new n.Pa4,m=new n.CJI;class g extends n.u9r{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},null!==e){const o=4,r=Math.pow(10,o),s=Math.cos(n.M8C.DEG2RAD*t),a=e.getIndex(),i=e.getAttribute("position"),d=a?a.count:i.count,h=[0,0,0],p=["a","b","c"],y=new Array(3),f=new Map,w=[];for(let e=0;e<d;e+=3){a?(h[0]=a.getX(e),h[1]=a.getX(e+1),h[2]=a.getX(e+2)):(h[0]=e,h[1]=e+1,h[2]=e+2);const{a:t,b:o,c:n}=m;if(t.fromBufferAttribute(i,h[0]),o.fromBufferAttribute(i,h[1]),n.fromBufferAttribute(i,h[2]),m.getNormal(u),y[0]=g.computeVertexHash(Math.round(t.x*r),Math.round(t.y*r),Math.round(t.z*r)),y[1]=g.computeVertexHash(Math.round(o.x*r),Math.round(o.y*r),Math.round(o.z*r)),y[0]!==y[1]&&(y[2]=g.computeVertexHash(Math.round(n.x*r),Math.round(n.y*r),Math.round(n.z*r)),y[1]!==y[2]&&y[2]!==y[0]))for(let e=0;e<3;e++){const t=(e+1)%3,o=y[e],n=y[t],r=m[p[e]],a=m[p[t]],i=g.computeVertexHash(o,n),d=g.computeVertexHash(n,o),c=f.get(d);void 0!==c?(u.dot(c.normal)<=s&&(w.push(r.x,r.y,r.z),w.push(a.x,a.y,a.z)),f.delete(d)):f.set(i,{index0:h[e],index1:h[t],normal:u.clone()})}}f.forEach((e=>{const{index0:t,index1:o}=e;c.fromBufferAttribute(i,t),l.fromBufferAttribute(i,o),w.push(c.x,c.y,c.z),w.push(l.x,l.y,l.z)})),this.setAttribute("position",new n.a$l(w,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static computeVertexHash(e,t,o=0){return 31*e+37*t+41*o}}var h=o(993);class p{constructor(e,t){this.geometries=[],this.object3D=e,this.option=t}async add(e,t,o){const r=await this.convert(e),s=t.getUniformIndex(o),i=function(e){return e.getAttribute("position").count}(r),d=new Uint16Array(i);for(let e=0;e<i;e++)d[e]=s;const c=new n.TlE(d,1);r.setAttribute(a.MODEL_INDEX,c),this.geometries.push(r)}async convert(e){return e}async merge(){0!==this.geometries.length?this.object3D.geometry=h.n4(this.geometries):this.object3D.parent?.remove(this.object3D)}}class y extends p{async convert(e){return e.deleteAttribute("uv"),e}}class f extends p{async convert(e){return this.option.useFastEdgesGeometry?new g(e,this.option.edgeDetail):new n.TOt(e,this.option.edgeDetail)}}var w=o(429);const b=(e,t=1)=>{const o=performance.now(),r=new n.TOt(e,t),s=performance.now()-o;console.log(`EdgesGeometry: ${s}ms`);const a=performance.now(),i=new g(e,t),d=performance.now()-a;return console.log(`FastEdgesGeometry: ${d}ms`),s/d<1?console.warn(`ðŸš« FastEdgesGeometry is slower than EdgesGeometry. FastEdgesGeometry is ${s/d} times slower than EdgesGeometry.`):console.log(`ðŸ‘ FastEdgesGeometry is ${s/d} times faster than EdgesGeometry.`),{edges:r,fastEdges:i}};window.onload=async()=>{const{scene:e,camera:t}=(e=>{const t=new n.xsS,o=new n.cPb(45,1280/720,1,6e4);o.position.set(0,0,15);const a=new n.CP7({antialias:!0});a.setSize(1280,720),a.setClearColor(new n.Ilk(0)),document.body.appendChild(a.domElement);const i=document.createElement("div");document.body.appendChild(i),new r.z(o,a.domElement);const d=new s.Z,c=()=>{d.begin(),a.render(t,o),d.end(),i.innerText=JSON.stringify(a.info.render),requestAnimationFrame(c)};return c(),{scene:t,camera:o}})(),o=new n.FE5(10,3,200,32),{edges:a,fastEdges:i}=b(o),d=new n.ejS(a,new n.nls({color:16711680,blending:n.WMw})),c=new n.ejS(i,new n.nls({color:65535,blending:n.WMw}));d.position.x=-20,c.position.x=20,t.position.z=60,e.add(d,c);const l=new w.ZP,u={distance:20,radialSegments:32,tubularSegments:200,thresholdAngle:1};l.add(u,"distance",0,20,.05).onChange((e=>{d.position.x=-e,c.position.x=e})),l.add(u,"thresholdAngle",0,10,.1).onChange((e=>{m()})),l.add(u,"tubularSegments",4,400,1).onChange((e=>{m()})),l.add(u,"radialSegments",4,128,1).onChange((e=>{m()}));const m=()=>{const e=new n.FE5(10,3,u.tubularSegments,u.radialSegments),{edges:t,fastEdges:o}=b(e,u.thresholdAngle);d.geometry.dispose(),c.geometry.dispose(),d.geometry=t,c.geometry=o}}}},o={};function n(e){var r=o[e];if(void 0!==r)return r.exports;var s=o[e]={exports:{}};return t[e](s,s.exports,n),s.exports}n.m=t,e=[],n.O=(t,o,r,s)=>{if(!o){var a=1/0;for(l=0;l<e.length;l++){for(var[o,r,s]=e[l],i=!0,d=0;d<o.length;d++)(!1&s||a>=s)&&Object.keys(n.O).every((e=>n.O[e](o[d])))?o.splice(d--,1):(i=!1,s<a&&(a=s));if(i){e.splice(l--,1);var c=r();void 0!==c&&(t=c)}}return t}s=s||0;for(var l=e.length;l>0&&e[l-1][2]>s;l--)e[l]=e[l-1];e[l]=[o,r,s]},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.j=530,(()=>{var e={530:0};n.O.j=t=>0===e[t];var t=(t,o)=>{var r,s,[a,i,d]=o,c=0;if(a.some((t=>0!==e[t]))){for(r in i)n.o(i,r)&&(n.m[r]=i[r]);if(d)var l=d(n)}for(t&&t(o);c<a.length;c++)s=a[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(l)},o=self.webpackChunk_masatomakino_colorable_merged_model=self.webpackChunk_masatomakino_colorable_merged_model||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var r=n.O(void 0,[736],(()=>n(379)));r=n.O(r)})();