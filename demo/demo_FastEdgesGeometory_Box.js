(()=>{"use strict";var e,t={291(e,t,r){var n=r(638),o=r(710);class s extends o.eaF{constructor(e){super(),this.geometryMerger=new f(this,e)}}class i extends o.DXC{constructor(e){super(),e.edgeDetail=e.edgeDetail??7,this.geometryMerger=new w(this,e)}}class a extends o.YJl{constructor(e){super(),this.getGeometryID=e=>{const t=e.match(/.*_.*_(\d*)/);if(null==t)throw new Error(`Invalid name: ${e}`);return Number(t[1])},null!=e.bodyOption&&(this.body=new s(e.bodyOption),this.add(this.body)),null!=e.edgeOption&&(this.edge=new i(e.edgeOption),this.add(this.edge))}async merge(){await Promise.all([this.body?.geometryMerger.merge(),this.edge?.geometryMerger.merge()])}}a.MODEL_INDEX="MODEL_INDEX";const c=new o.Pq0,d=new o.Pq0,l=new o.Pq0,u=new o.Pq0,g=new o.Pq0;class m extends o.LoY{constructor(e=null,t=1,r){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},null!==e){const n=10**(r?.precisionPoints??6),s=Math.cos(o.cj9.DEG2RAD*t),i=e.getIndex(),a=e.getAttribute("position"),h=i?i.count:a.count,y=m._indexArray,p=m._hashArray,f=1664525*(r?.seed??255)+1013904223>>>0,w=h,b=new Uint32Array(w),v=new Uint32Array(w),x=new Float32Array(w),A=new Float32Array(w),E=new Float32Array(w),D=new Map;let M=0;const O=new Float32Array(2*h*3);let _=0;const z=(e,t,r)=>((e=((4294967294&e)<<13^(e<<19^e)>>>12)>>>0)^(t=((4294967288&t)<<2^(t<<25^t)>>>4)>>>0)^(r=((4294967280&r)<<3^(r<<11^r)>>>17)>>>0)^f)>>>0;for(let e=0;e<h;e+=3){i?(y[0]=i.getX(e),y[1]=i.getX(e+1),y[2]=i.getX(e+2)):(y[0]=e,y[1]=e+1,y[2]=e+2),l.fromBufferAttribute(a,y[0]),u.fromBufferAttribute(a,y[1]),g.fromBufferAttribute(a,y[2]);const t=u.x-l.x,r=u.y-l.y,o=u.z-l.z,c=g.x-l.x,d=g.y-l.y,m=g.z-l.z;let h=r*m-o*d,f=o*c-t*m,w=t*d-r*c;const G=Math.sqrt(h*h+f*f+w*w);if(G>0){const e=1/G;h*=e,f*=e,w*=e}if(p[0]=z(Math.round(l.x*n),Math.round(l.y*n),Math.round(l.z*n)),p[1]=z(Math.round(u.x*n),Math.round(u.y*n),Math.round(u.z*n)),p[0]===p[1])continue;if(p[2]=z(Math.round(g.x*n),Math.round(g.y*n),Math.round(g.z*n)),p[1]===p[2]||p[2]===p[0])continue;const j=[l,u,g];for(let e=0;e<3;e++){const t=(e+1)%3,r=p[e],n=p[t],o=j[e],i=j[t],a=z(r,n,0),c=z(n,r,0),d=D.get(c);if(void 0!==d)h*x[d]+f*A[d]+w*E[d]<=s&&(O[_++]=o.x,O[_++]=o.y,O[_++]=o.z,O[_++]=i.x,O[_++]=i.y,O[_++]=i.z),D.delete(c);else{const r=M++;D.set(a,r),b[r]=y[e],v[r]=y[t],x[r]=h,A[r]=f,E[r]=w}}}D.forEach(e=>{const t=b[e],r=v[e];c.fromBufferAttribute(a,t),d.fromBufferAttribute(a,r),O[_++]=c.x,O[_++]=c.y,O[_++]=c.z,O[_++]=d.x,O[_++]=d.y,O[_++]=d.z});const G=O.slice(0,_);this.setAttribute("position",new o.qtW(G,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static taus(e,t,r,n,o){return((e&o)<<t^(e<<r^e)>>>n)>>>0}static hybridtaus(e,t,r,n=255){const o=e=>e>>>0;return e=m.taus(e,13,19,12,4294967294),t=m.taus(t,2,25,4,4294967288),r=m.taus(r,3,11,17,4294967280),n=o(1664525*n+1013904223),o(e^t^r^n)}}m._indexArray=[0,0,0],m._hashArray=new Array(3);var h=r(753);o.BKk;var y=r(426);class p{constructor(e,t){this.geometries=[],this.object3D=e,this.option=t}async add(e,t,r){const n=await this.convert(e),s=t.getUniformIndex(r),i=function(e){return e.getAttribute("position").count}(n),c=new Uint16Array(i);for(let e=0;e<i;e++)c[e]=s;const d=new o.THS(c,1);n.setAttribute(a.MODEL_INDEX,d),this.geometries.push(n)}async convert(e){return e}async merge(){0!==this.geometries.length?this.object3D.geometry=y.pP(this.geometries):this.object3D.parent?.remove(this.object3D)}}class f extends p{async convert(e){return e.deleteAttribute("uv"),e}}class w extends p{async convert(e){return this.option.useFastEdgesGeometry?new m(e,this.option.edgeDetail):new o.TDQ(e,this.option.edgeDetail)}}r(329),r(452),r(486).b;var b=r(580),v=r(533);const x=(e,t=1)=>{const r=performance.now(),n=new o.TDQ(e,t),s=performance.now()-r;console.log(`EdgesGeometry: ${s}ms`);const i=performance.now(),a=new m(e,t),c=performance.now()-i;return console.log(`FastEdgesGeometry: ${c}ms`),s/c<1?console.warn(`ðŸš« FastEdgesGeometry is slower than EdgesGeometry. FastEdgesGeometry is ${s/c} times slower than EdgesGeometry.`):console.log(`ðŸ‘ FastEdgesGeometry is ${s/c} times faster than EdgesGeometry.`),{edges:n,fastEdges:a}};window.onload=async()=>{const{scene:e,camera:t}=(()=>{const e=new o.Z58,t=new o.ubm(45,1280/720,1,6e4);t.position.set(0,0,15);const r=new h.JeP({antialias:!0});r.setSize(1280,720),r.setClearColor(new o.Q1f(0)),document.body.appendChild(r.domElement);const n=document.createElement("div");document.body.appendChild(n),new b.N(t,r.domElement);const s=new v.A,i=()=>{s.begin(),r.render(e,t),s.end(),n.innerText=JSON.stringify(r.info.render),requestAnimationFrame(i)};return i(),{scene:e,camera:t}})(),r=new o.iNn(10,10,10),{edges:s,fastEdges:i}=x(r,0),a=new o.DXC(s,new o.mrM({color:16711680,blending:o.EZo})),c=new o.DXC(i,new o.mrM({color:65535,blending:o.EZo}));a.position.x=-20,c.position.x=20,t.position.z=60,e.add(a,c);const d=new n.Ay,l={distance:20,thresholdAngle:0};d.add(l,"distance",0,20,.05).onChange(e=>{a.position.x=-e,c.position.x=e}),d.add(l,"thresholdAngle",0,10,.1).onChange(()=>{u()});const u=()=>{const e=new o.iNn(10,10,10),{edges:t,fastEdges:r}=x(e,l.thresholdAngle);a.geometry.dispose(),c.geometry.dispose(),a.geometry=t,c.geometry=r}}}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var s=r[e]={exports:{}};return t[e](s,s.exports,n),s.exports}n.m=t,e=[],n.O=(t,r,o,s)=>{if(!r){var i=1/0;for(l=0;l<e.length;l++){for(var[r,o,s]=e[l],a=!0,c=0;c<r.length;c++)(!1&s||i>=s)&&Object.keys(n.O).every(e=>n.O[e](r[c]))?r.splice(c--,1):(a=!1,s<i&&(i=s));if(a){e.splice(l--,1);var d=o();void 0!==d&&(t=d)}}return t}s=s||0;for(var l=e.length;l>0&&e[l-1][2]>s;l--)e[l]=e[l-1];e[l]=[r,o,s]},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.j=70,(()=>{var e={70:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var o,s,[i,a,c]=r,d=0;if(i.some(t=>0!==e[t])){for(o in a)n.o(a,o)&&(n.m[o]=a[o]);if(c)var l=c(n)}for(t&&t(r);d<i.length;d++)s=i[d],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(l)},r=self.webpackChunk_masatomakino_colorable_merged_model=self.webpackChunk_masatomakino_colorable_merged_model||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var o=n.O(void 0,[121],()=>n(291));o=n.O(o)})();